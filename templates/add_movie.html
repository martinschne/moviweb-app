{% extends "base.html" %}

{% block title %}Add Movie - Moviweb{% endblock %}
{% block header %}Add Movie for {{ user.name }}{% endblock %}

{% block content %}
    {% include "_flash_messages.html" %}
    {% if not movie %}
    <form action="{{ url_for('add_movie', user_id=user.id) }}" method="get">
        <label for="title">Title:</label>
        <input  type="text" id="title" name="title" required>
        <input type="submit" value="Search">
    </form>
    {% else %}
        <form action="{{ url_for('add_movie', user_id=user.id) }}" method="post">
            <label for="name">Name:</label>
            <input id="name" name="name" type="text" value="{{ movie.name }}" required>
            <label for="director">Director:</label>
            <input id="director" name="director" type="text" value="{{ movie.director }}">
            <div class="year-container">
                <label for="year" id="year-label">Year:</label>
                <input id="year" name="year" type="number" min="1888" value="{{ movie.year }}">
            </div>
            <div class="rating-container">
                <label for="rating" id="rating-label">Rating:</label>
                <input id="rating" name="rating" type="number" min="0" max="10" step="0.1" value="{{ movie.rating }}">
            </div>
            <label for="poster_url">URL:</label>
            <input id="poster_url" name="poster_url" type="text" value="{{ movie.poster_url }}">
            <br />
            <br />
            <input type="submit" value="Add">
        </form>
    {% endif %}
{% endblock %}